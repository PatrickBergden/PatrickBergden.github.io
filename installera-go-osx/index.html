<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>Go på OS X</title>
    <meta name="description" content="Bergden Finans - Reflektioner kring investering i aktier, råvaror, kryptovalutor och om att njuta av livet i största allmänhet." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Bergden Finans" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bergden Finans" />
    <meta property="og:description" content="Reflektioner kring investering i aktier, råvaror, kryptovalutor och om att njuta av livet i största allmänhet." />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Bergden Finans" />
    <meta name="twitter:description" content="Reflektioner kring investering i aktier, råvaror, kryptovalutor och om att njuta av livet i största allmänhet." />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "Reflektioner kring investering i aktier, råvaror, kryptovalutor och om att njuta av livet i största allmänhet."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Bergden Finans" href="/rss.xml" />

    <!-- Equations using MathJax start -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });</script>
    <!-- Equations using MathJax stop -->

    <!-- needed? start-->
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async src="path-to-mathjax/MathJax.js?config=TeX-AMS_CHTML"></script>
<!-- needed? stop-->

</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Meny</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Stäng</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/about">About</a></li>
        <li class="nav-fables " role="presentation"><a href="/tag/fables">Fables</a></li>
        <li class="nav-speeches " role="presentation"><a href="/tag/speeches">Speeches</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/fiction">Fiction</a></li>
        <li class="nav-author " role="presentation"><a href="/author/casper">Author</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="/rss.xml">Prenumerera</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/osx_wallpaper2.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/ghost.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-fiction">

        <header class="post-header">
            <h1 class="post-title">Go på OS X</h1>
            <section class="post-meta">
            <!-- <a href='/'>Patrick Bergden</a> -->
            <time class="post-date" datetime="2016-02-10">10 Feb 2016</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/utveckling'>Utveckling</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>Go är väldigt kinking kring hur och var det installeras på datorn.
Denna post är mest en minnesanteckning om hur jag installerat Go på min
Mac. Jag postar den här om någon sitter i samma sits.</p>

<blockquote>
<p>Innehållet i detta dokument är i prakten hämtat från
Golang dokumentet &quot;How to Write Go Code&quot;. Läs det för utförligare förklaringar.</p>
</blockquote>

<h2>Workspaces</h2>

<p>Det är viktigt att förstå att Go projektstrukturer bygger på tanken om publik kod
som delas till exempel på Github.</p>

<p>Go vill att dess källkod ligger inom ett sk workspace.
Ett workspace är en katalogstruktur som har följande tre kataloger i roten:</p>

<ul>
<li>  <strong>src</strong> : här lägger man källkoden för de prjokt man skriver, och de
 organiserat i sk <strong>packages</strong> och är ofta .git bevakade.</li>
<li>  <strong>pkg</strong> : package objekt</li>
<li>  <strong>bin</strong> : exekverbara kommandon</li>
</ul>

<p>När man skrivit sin kod så bygger go verktyget källkoden till packages
och installerar de resulterande binära filerna i <em>pkg</em> och <em>bin</em>.</p>

<p>Workspace katalogen innehåller projekt i form av <strong>repositories</strong>.
Varje repo innehåller i sin tur <strong>commands</strong> och <strong>libraries</strong>.
<pre>
bin/
    hello #command object
    outyet                              #command object
pkg/
    linux<em>amd64/
        github.com/pkothbauer/example/
            stringutil.a                #package object
src/
    github.com/pkothbauer/example
        .git/                           #git metadata
        hello/
            hello.go                    #command source
        outyet/
            main.go                     #command source
            main</em>test.go
        stringutil/
            reversestring.go            #package source
            reversestring_test.go       #test source
</pre></p>

<h3>Ditt Workspace rymmer flera projekt</h3>

<p>Det vanliga är att flera olika projekt (repositories) under ett och samma workspace.
De flesta Go programmerar bevarar all sin go källkod och dependencies i ett enda workspace.</p>

<h2>GOPATH</h2>

<p>GOPATH variabeln talar helt enkelt om var någonstans ditt workspace finns.
Det är den enda systemvariabeln som behöver sättas för att programmera i Go.</p>

<p>En vanlig plats att lägga ditt workspace är direkt under HOME katalogen,
$ export GOPATH=$HOME</p>

<p>Så här sätter du GOPATH:</p>

<pre>
$ mkdir $HOME/workspace
$ export GOPATH=$HOME/workspace
</pre>

<blockquote>
<p>Notera att ditt workspace <strong>inte</strong> skall vara lokaliserat på samma path som din Go installation.</p>
</blockquote>

<p>Av praktiska skäl (så att du direkt kan exikvera program som ligger här) kan det vara käckt att lägga till din go bin katalog till din PATH.</p>

<pre>$ export PATH=$PATH:$GOPATH/bin</pre>

<h2>Package paths</h2>

<p>Din källkod förvarar du som sagt i egna packages (projektpaket).
Det är viktigt att välja en base path som inte riskerar att krocka med Go&#39;s egna packages som tex &quot;fmt&quot; osv.</p>

<p>Många väljer sitt Github-konto som base path. Kom ihåg att du inte behöver publicera
den kod du lägger här - men det hjälper att organisera koden på ett bra sätt.</p>

<p>Så, skapa en katalog i ditt workspace i vilket du förvarar dina projekts källkod.
<pre>mkdir -p $GOPATH/src/github.com/patrickbergden</pre></p>

<h2>Skapa, Kompilera och Kör ditt program</h2>

<p>När du vill skapa ett nytt program gör du typiskt så här:</p>

<ol>
<li> Välj ett namn på ditt package, tex hello</li>
<li> Skapa katalogen inom ditt workspace<br>
<code>$ mkdir $GOPATH/src/github.com/patrickbergden/hello</code></li>
<li> Skapa nu en hello.go fil som kommer att innehålla din källkod.
<pre>
package main
import &quot;fmt&quot;
func main(){
fmt.Println(&quot;Hello!&quot;)
}
</pre></li>
<li><p>Nu kan vi bygga och installera programmet med
hjälp av go verktyget:<br>
<code>$ go install github.com/patrickbergden/hello</code>
(Har man definerat GOPATH så listar go verktyget
ut var koden ligger i vårt workspace.</p>

<p>Det betyder att vi kan köra koden oavsett var
vi befinner oss i systemet).
Detta procducerar en exekverbar binär fil som
placeras under $GOPATH/workspace/bin under namnet
hello.</p></li>
<li><p>Vi kan nu sluligen köra den exekverbara filen
med kommandot $GOPATH/bin/hello<br>
($GOPATH är alltså = $HOME/workspace)<br>
(eller om vi har lagt till $GOPATH/bin så kan
vi direkt köra $ hello)</p></li>
</ol>

<h2>Source control</h2>

<p>I detta läge kan det vara käckt att använda
source control.
<pre>
cd $GOPATH/src/github.com/patrickbergden/hello<br>
git init
git add hello.go
git commit -m &quot;initial commmit&quot;
</pre></p>

<h2>Libraries</h2>

<p>Kod som vi ofta vill använda i olika projekt läggs
lämligen i egna separata bibliotek (library).</p>

<p>Första steget är att get biblioteket ett namn.<br>
<code>$ mkdir $GOPATH/src/github.com/patrickbergden/strutil</code></p>

<p>Nu skapar vi en fil som vi döper till reverse.go.</p>

<pre>
package strutil

func Echo(s string) string {
    return s
}
</pre>

<p>Nu kan vi bygga packaget med<br>
<code>go build github.com/patrickbergden/strutil</code>  </p>

<p>Om vi använder install istället så får vi ett package
som läggs under $GOPATH/pkg.</p>

<p>Nu kan vi anropa biblioteket i annan kod.
<pre>
package main
import (
    &quot;fmt&quot;
    &quot;github.com/strutil&quot;
)
func main() {
    fmt.Println(&quot;echo &quot; + strutil.Echo(&quot;echo&quot;))
}
</pre></p>

<p>Obs, <code>go tool</code> kommer automatiskt att se om vi
importerar bibliotek och även installera dessa.</p>

<p>Kompileras detta får vi en strutil.a fil som läggs under   $GOPATH/pkg/darwin_amd64/github.com/patrickbergden/</p>

<h3>Något om package namn</h3>

<p>Konventionen är att ett packages namn är detta sista
namnet i dess sökväg / import väg.
Importeras packaget som &quot;crypto/rot13&quot; så förväntas
packaget heta rot13.</p>

<p>Exekverbara filer måste alltid använda &quot;package main&quot;.</p>

<p>Packages behöver inte ha unika namn inom vårt
workspace men path:en måste vara unik.</p>

<h2>Testing</h2>

<p>Har vi en fil som heter hello.go så kan vi testa
den genom att skapa en fil vi kallar hello_test.go.
Vi lägger alltså helt enkelt till _test.go.</p>

<p>I hello_test.go använder vi Go&#39;s interna testramverk
och dess funktion <code>func (t *testing.T)</code>.
Det gör vi genom att: <code>import &quot;testing&quot;</code>.</p>

<p>Vi testar funktioner genom att skapa en funktion
och döpa den till TestXXX, där XXX är namnet på
den fil vi vill testa.</p>

<p>Om en sådan funktion anropar t.Error eller t.Fail
så har testet misslyckats.</p>

<p>Nedan lägger vi till ett test till vårt strutil
bibliotek.</p>

<pre>
package strutil

import "testing"

func TestEcho(t *testing.T) {
    cases := []struct {
        in, want string
    }{
        {"Hello", "HelloHello"},
        {"123", "123123"},
        {"",""},
    }
    for _, c := range cases {
        got := Echo(c.in)
        if got != c.want {
            t.Error("Echo(%q) == %q, want %q", c.in, got, c.want)
        }
    }
}
</pre>

<p>Vi testar sedan genom att köra:<br>
<code>$ go test github.com/patrickbergden/strutil</code></p>

<p>(Kör man testet direkt i package katalogen räcker
det självklart med att skriva go test).</p>

<h2>Remote packages</h2>

<p>Det sista är packages som till exempel ligger på
Github. Vi kan hämta packaget genom kommandot<br>
<code>go get</code></p>

<p><code>$ go get github.com/patrickbergden/hello</code></p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/Esper" style="background-image: url(/assets/images/pk.jpg)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/Esper">Patrick Bergden</a></h4>
                
                
                    <p> Intreserad av allt som har med trading, programmering, kryptovalutor och blockchain att göra.</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Gothenburg, Sweden</span> 
                    <span class="author-link icon-link"><a href="http://github.com/patrickbergden/"> github.com/patrickbergden/</a></span> 
                </div>
            </section>

            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Go på OS X&amp;url=http://github.com/patrickbergden/installera-go-osx"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://github.com/patrickbergden/installera-go-osx"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://github.com/patrickbergden/installera-go-osx"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <!-- Add Disqus Comments -->
            
            
        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/assets/images/particles10.jpg)" href="/lightstreamer">
            <section class="post">
                <h2>Go-Light <br>&mdash; en LightStreamer klient</h2>
                <p>IG erbjuder automatiserade interaktioner med deras servrar genom ett REST-baserat API. För strömdata använder sig...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/cover8c.png)" href="/positionsdimensionering">
            <section class="post">
                <h2>Positionsdimensionering & <br> Anti Martingale Strategier</h2>
                <p>När jag började med trading gav någon mig rådet att istället direkt spola ner mitt...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Bergden Finans</a> &copy; 2016</section>
          <section class="poweredby">Inget på denna blogg är investeringsråd.</section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>
</body>
</html>
